/* KnoSwipe Design System */

:root {
  --bg-deep: #040810;
  --bg-primary: #0a1020;
  --bg-card: #0f1730;
  --bg-elevated: #162040;
  --accent-teal: #00e5a0;
  --accent-coral: #ff5c72;
  --accent-blue: #4d8eff;
  --accent-amber: #ffb347;
  --accent-purple: #a78bfa;
  --text-primary: #eef2ff;
  --text-secondary: #7b8ba8;
  --text-tertiary: #3d4f6f;
  --glass-bg: rgba(255,255,255,0.04);
  --glass-border: rgba(255,255,255,0.08);
  --glass-strong: rgba(255,255,255,0.07);
  --safe-top: env(safe-area-inset-top, 20px);
  --safe-bottom: env(safe-area-inset-bottom, 20px);
}

*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}

html,body{height:100%;height:100dvh;overflow:hidden;background:var(--bg-deep);color:var(--text-primary);-webkit-font-smoothing:antialiased}

/* ===== SCROLL CONTAINER ===== */
.swipe-container{height:100dvh;overflow-y:scroll;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch;scrollbar-width:none}
.swipe-container::-webkit-scrollbar{display:none}

/* ===== CARD BASE ===== */
.card-slide{height:100dvh;scroll-snap-align:start;position:relative;overflow:hidden}
.card-inner{height:100%;display:flex;flex-direction:column;justify-content:center;padding:calc(var(--safe-top) + 72px) 24px calc(var(--safe-bottom) + 60px);position:relative;overflow-y:auto;scrollbar-width:none;-webkit-overflow-scrolling:touch}
.card-inner::-webkit-scrollbar{display:none}

/* Card backgrounds by type */
.card-slide--animated-text{background:radial-gradient(ellipse at 20% 40%,rgba(0,229,160,0.07) 0%,transparent 60%),radial-gradient(ellipse at 80% 70%,rgba(77,142,255,0.05) 0%,transparent 50%),var(--bg-deep)}
.card-slide--quiz{background:radial-gradient(ellipse at 30% 70%,rgba(255,179,71,0.07) 0%,transparent 50%),radial-gradient(ellipse at 70% 30%,rgba(255,92,114,0.04) 0%,transparent 50%),var(--bg-deep)}
.card-slide--flashcard{background:radial-gradient(ellipse at 50% 50%,rgba(167,139,250,0.08) 0%,transparent 60%),var(--bg-deep)}
.card-slide--surgical-steps{background:radial-gradient(ellipse at 40% 60%,rgba(0,229,160,0.06) 0%,transparent 50%),var(--bg-deep)}
.card-slide--fill-blank{background:radial-gradient(ellipse at 50% 40%,rgba(77,142,255,0.07) 0%,transparent 50%),var(--bg-deep)}
.card-slide--anatomy{background:radial-gradient(ellipse at 50% 50%,rgba(0,229,160,0.05) 0%,transparent 60%),radial-gradient(ellipse at 20% 80%,rgba(77,142,255,0.04) 0%,transparent 40%),var(--bg-deep)}

/* ===== OVERLAY UI ===== */
.app-header{position:fixed;top:0;left:0;right:0;z-index:100;padding:var(--safe-top) 16px 0;pointer-events:none}
.app-header>*{pointer-events:auto}

.progress-bar{height:3px;background:rgba(255,255,255,0.08);border-radius:2px;overflow:hidden;margin-bottom:12px}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent-teal),var(--accent-blue));border-radius:2px;transition:width 0.4s cubic-bezier(0.16,1,0.3,1)}

.category-pills{display:flex;gap:8px;overflow-x:auto;padding:0 0 8px;scrollbar-width:none;-webkit-overflow-scrolling:touch}
.category-pills::-webkit-scrollbar{display:none}

.pill{flex-shrink:0;padding:6px 14px;border-radius:20px;border:1px solid var(--glass-border);background:var(--glass-bg);color:var(--text-secondary);font-size:12px;font-weight:500;cursor:pointer;transition:all 0.2s;letter-spacing:0.02em}
.pill:hover,.pill.active{background:var(--glass-strong);color:var(--text-primary);border-color:rgba(255,255,255,0.15)}
.pill.active{background:rgba(0,229,160,0.12);border-color:rgba(0,229,160,0.3);color:var(--accent-teal)}

.action-bar{position:fixed;right:16px;bottom:calc(var(--safe-bottom) + 100px);display:flex;flex-direction:column;gap:20px;z-index:100;align-items:center}
.action-btn{width:44px;height:44px;border-radius:50%;border:1px solid var(--glass-border);background:var(--glass-strong);backdrop-filter:blur(10px);color:var(--text-secondary);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:20px;transition:all 0.2s}
.action-btn:active{transform:scale(0.9)}
.action-btn.bookmarked{color:var(--accent-coral);background:rgba(255,92,114,0.15);border-color:rgba(255,92,114,0.3)}

.streak-counter{position:fixed;right:16px;top:calc(var(--safe-top) + 64px);z-index:100;display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;background:rgba(255,179,71,0.12);border:1px solid rgba(255,179,71,0.2);color:var(--accent-amber);font-size:14px;font-weight:700}

.card-counter{position:fixed;left:16px;bottom:calc(var(--safe-bottom) + 16px);z-index:100;color:var(--text-tertiary);font-size:11px;letter-spacing:0.03em;display:flex;align-items:center;gap:6px}
.progress-ring{width:28px;height:28px;transform:rotate(-90deg)}
.progress-ring-bg{fill:none;stroke:rgba(255,255,255,0.06);stroke-width:2.5}
.progress-ring-fill{fill:none;stroke:var(--accent-teal);stroke-width:2.5;stroke-linecap:round;transition:stroke-dashoffset 0.4s cubic-bezier(0.16,1,0.3,1)}

.swipe-hint{position:fixed;bottom:calc(var(--safe-bottom) + 16px);left:50%;transform:translateX(-50%);z-index:100;color:var(--text-tertiary);font-size:12px;display:flex;flex-direction:column;align-items:center;gap:4px}
.swipe-chevron{width:16px;height:16px;border-left:2px solid var(--text-tertiary);border-top:2px solid var(--text-tertiary);transform:rotate(45deg)}

/* ===== CARD META ===== */
.card-meta{display:flex;align-items:center;gap:8px;margin-bottom:12px;flex-wrap:wrap;flex-shrink:0}
.card-category-badge{padding:3px 8px;border-radius:6px;font-size:10px;font-weight:600;letter-spacing:0.06em;text-transform:uppercase}
.card-difficulty-badge{padding:3px 7px;border-radius:6px;font-size:9px;font-weight:600;letter-spacing:0.06em;text-transform:uppercase}
.card-type-label{color:var(--text-tertiary);font-size:10px;text-transform:uppercase;letter-spacing:0.1em;margin-left:auto}

/* ===== ANIMATIONS ===== */
@keyframes pulse{0%,100%{opacity:0.5;transform:scale(1)}50%{opacity:1;transform:scale(1.4)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}

/* ===== USER MENU (in action bar) ===== */
.user-action-btn{color:var(--accent-teal);font-size:14px;font-weight:700}
.user-dropdown{position:absolute;right:0;min-width:180px;padding:8px;border-radius:12px;border:1px solid var(--glass-border);background:rgba(10,16,32,0.95);backdrop-filter:blur(16px);z-index:110}
.user-dropdown--up{bottom:52px;top:auto}
.user-dropdown-name{padding:8px 12px;font-size:13px;font-weight:600;color:var(--text-primary);border-bottom:1px solid var(--glass-border);margin-bottom:4px}
.user-dropdown-email{padding:4px 12px 8px;font-size:11px;color:var(--text-tertiary);border-bottom:1px solid var(--glass-border);margin-bottom:4px}
.user-dropdown button{width:100%;padding:8px 12px;border:none;background:transparent;color:var(--text-secondary);font-size:13px;text-align:left;cursor:pointer;border-radius:8px;font-family:inherit;transition:all 0.15s}
.user-dropdown button:hover{background:var(--glass-strong);color:var(--text-primary)}

/* ===== ALL SEEN SCREEN ===== */
.all-seen-screen{height:100dvh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:24px;background:var(--bg-deep);text-align:center}
.all-seen-icon{font-size:48px;margin-bottom:16px}
.all-seen-title{font-size:22px;font-weight:800;color:var(--text-primary);margin-bottom:8px}
.all-seen-subtitle{font-size:14px;color:var(--text-secondary);margin-bottom:24px;max-width:280px;line-height:1.5}
.all-seen-btn{padding:12px 28px;border-radius:12px;border:1px solid rgba(0,229,160,0.3);background:rgba(0,229,160,0.1);color:var(--accent-teal);font-size:14px;font-weight:600;cursor:pointer;transition:all 0.2s;font-family:inherit}
.all-seen-btn:hover{background:rgba(0,229,160,0.2)}

/* ===== LOADING STATE ===== */
.loading-screen{height:100dvh;display:flex;align-items:center;justify-content:center;background:var(--bg-deep)}
.loading-spinner{width:32px;height:32px;border:3px solid var(--glass-border);border-top-color:var(--accent-teal);border-radius:50%;animation:spin 0.8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* ===== RESPONSIVE ===== */
@media(min-width:768px){
  .card-inner{max-width:500px;margin:0 auto;padding-left:32px;padding-right:32px}
}
